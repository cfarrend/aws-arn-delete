project_name: aws-arn-delete

containers:
  build-env:
    build_directory: .batect/build-env
    volumes:
      - local: .
        container: /code
        options: cached
      - local: .pip_cache
        container: /pip
        options: cached
    environment:
      PIP_CACHE_DIR: /pip
tasks:
  setup:
    description: Download all dependencies used by the application.
    group: Setup tasks
    run:
      container: build-env
      command: poetry install
  build:
    description: Builds the application
    group: Build tasks
    run:
      container: build-env
      command: poetry build
  test:
    description: Runs code tests
    group: Test tasks
    run:
      container: build-env
      command: echo 'test'
  shell:
    description: Start a shell in the development environment.
    group: Utility tasks
    run:
      container: build-env
      command: /bin/bash
  clean:
    description: Deletes all generated files and folders
    group: Utility tasks
    run:
      container: build-env
      command: rm -rf aws_arn_delete.egg-info .pip_cache dist .tox
